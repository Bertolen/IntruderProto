Hello everyone.

I'm rather new on UE4 and today I tried recreating this tutorial on C++ : https://www.youtube.com/watch?v=x2EyPNucHK4

But sadly now UE4 crashes everytime I compile the Blueprint that derives from my Ladder C++ class :(

Here is my OnConstruction method:
[CODE]
void ALadder::OnConstruction(const FTransform &Transform)
{
    Super::OnConstruction(Transform);
    
    // Do some clean up first
    for (int i = 0; i < LadderStraight->GetInstanceCount(); i++) {
        LadderStraight->RemoveInstance(i);
    }

    for (int i = 0; i < LadderAttach->GetInstanceCount(); i++) {
        LadderAttach->RemoveInstance(i);
    }

    for (int i = 0; i < LadderBottom->GetInstanceCount(); i++) {
        LadderBottom->RemoveInstance(i);
    }

    for (int i = 0; i < LadderTop->GetInstanceCount(); i++) {
        LadderTop->RemoveInstance(i);
    }

    // Now we start the real construction
    
    for (int i = 0; i < AmountLadderMeshes; i++)
    {
        if (i == 0) {
            LadderBottom->AddInstance(FTransform(FVector(0, 0, i*MeshHeight)));
        }
        else if (i == AmountLadderMeshes - 1) {
            LadderTop->AddInstance(FTransform(FVector(0, 0, i*MeshHeight)));
        }
        else if (i % 3 == 0) {
            LadderAttach->AddInstance(FTransform(FVector(0, 0, i*MeshHeight)));
        }
        else {
            LadderStraight->AddInstance(FTransform(FVector(0, 0, i*MeshHeight)));
        }
    }
}
[/CODE]

I tried removing the second for loop and that makes the crashes go away, but it also makes the whole code useless.
Another fix I've tried is to make the whole thing with visual scripting, just like in the video, but the crashes still occurs.

The last idea I had is that maybe there's a problem with my UInstancedStaticMeshComponent objects. But I have no idea if that's true or not, it's the first time I've worked with them. So here's the code in the class constructor just in case :

[CODE]
    // Setup the meshes
    LadderStraight = CreateAbstractDefaultSubobject<UInstancedStaticMeshComponent>(TEXT("LadderStraight"));
    ConstructorHelpers::FObjectFinder<UStaticMesh> mesh(TEXT("StaticMesh'/Game/Meshes/Ladder_Straight.Ladder_Straight'"));
    if (mesh.Succeeded()) {
        LadderStraight->SetStaticMesh(mesh.Object);
    }

    LadderAttach = CreateAbstractDefaultSubobject<UInstancedStaticMeshComponent>(TEXT("LadderAttach"));
    mesh = ConstructorHelpers::FObjectFinder<UStaticMesh>(TEXT("StaticMesh'/Game/Meshes/Ladder_Attach.Ladder_Attach'"));
    if (mesh.Succeeded()) {
        LadderAttach->SetStaticMesh(mesh.Object);
    }

    LadderTop = CreateAbstractDefaultSubobject<UInstancedStaticMeshComponent>(TEXT("LadderTop"));
    mesh = ConstructorHelpers::FObjectFinder<UStaticMesh>(TEXT("StaticMesh'/Game/Meshes/Ladder_Top.Ladder_Top'"));
    if (mesh.Succeeded()) {
        LadderTop->SetStaticMesh(mesh.Object);
    }

    LadderBottom = CreateAbstractDefaultSubobject<UInstancedStaticMeshComponent>(TEXT("LadderBottom"));
    mesh = ConstructorHelpers::FObjectFinder<UStaticMesh>(TEXT("StaticMesh'/Game/Meshes/Ladder_Bottom.Ladder_Bottom'"));
    if (mesh.Succeeded()) {
        LadderBottom->SetStaticMesh(mesh.Object);
    }
[/CODE]

Does anybody have any idea what's wrong with my code? pleeeease?
